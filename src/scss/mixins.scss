/*
>>================================================================================>
Mixins
>>================================================================================>
*/

/*
 * Mixin: @clearfix
 * Stop all that floating nonsense
 */

@mixin clearfix() {
    &:before,
    &:after {
        content: " ";
        display: table;
    }

    &:after {
        clear: both;
    }
}

/*
 * Mixin: @hidden
 * https://snook.ca/archives/html_and_css/hiding-content-for-accessibility
 */

@mixin hidden() {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
    white-space: nowrap;
}

/*
 * Mixin: @scrollable
 * Applies some styles that make scrollable elements behave a little better
 */

@mixin scrollable() {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    -ms-overflow-style: -ms-autohiding-scrollbar;
}

/*
 * Mixin:; @bgimg
 * --------------------------
 * Attaches a background image
 * User-defined width and height
 * Includes a boolean for 2x resolution
 * Ability to specify file extension
 * Background image will be 1x on mobile
 */

@mixin bgimg($image, $width, $height, $retina, $extension) {
    background-image: url('../img/' + $image + '.' + $extension);
    background-repeat: no-repeat;
    background-position: center;
    background-size: $width + px $height + px;

    @if $retina == true {
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6/2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
            background-image: url('../img/' + $image  + '@2x' + '.' + $extension);
        }
    }

    @media screen and (max-width: $breakpoint_mobile) {
        background-image: url('../img/' + $image + '.' + $extension);
    }
}

/*
 * Mixin: @sprite
 * --------------------------
 * Creates an absolute-positioned object with a background image
 * User-defined width and height
 * Includes a boolean for 2x resolution
 * Ability to specify file extension
 * Background image will be 1x on mobile
 * Primarily used for animation
 */

@mixin sprite($image, $width, $height, $retina, $extension) {
    position: absolute;
    width: $width + px;
    height: $height + px;
    background-image: url('../img/' + $image + '.png');
    background-size: $width + px $height + px;

    @if $retina == true {
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6/2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
            background-image: url('../img/' + $image  + '@2x.png');
        }
    }

    @media screen and (max-width: $breakpoint_mobile) {
        background-image: url('../img/' + $image + '.png');
    }
}

/*
 * Mixin: @fluidcolumns
 * --------------------------s
 * Creates simple, responsive columns
 * Compatible with IE 10
 */

@mixin fluidcolumns($width, $gutter) {
    @media screen and (min-width: $breakpoint_desktop) {
        $margin: $gutter / 2;
        display: flex;
        display: -ms-flexbox;
        margin: 0px (-$margin);
        flex-wrap: wrap;

        > * {
            width: calc(#{$width} - #{$gutter});
            margin: 0 $margin $gutter $margin;
        }
    }
}


